---
title: FormattedField
sidebar_label: FormattedField
---

# FormattedField

## Overview
`FormattedField` is a lightweight display component whose only job is to render a value that has already been *resolved* and turn it into human‑friendly text.  
Think of it as the **read‑only counterpart** of an input control: it shows data, it never changes it.

Typical use‑cases:

* Show a nicely formatted number, date, or boolean flag inside a details page.  
* Re‑use the same formatting rules everywhere instead of sprinkling `toLocaleString` or `moment()` throughout the codebase.
* Embed the output inside tables, grids, or any custom layout without worrying about accessibility or styling consistency.

---

## Core Concepts

* **Formatting strategy** – You pass the raw value (string, number, Date, etc.) and optionally a `format` prop.  
  Internally the component decides which formatter to use (decimal, percent, date, custom function, …).
* **Read‑only** – `FormattedField` never fires `onChange`; it is purely visual.
* **Composition first** – You can wrap it in your own components (e.g. `Currency` or `UserFullName`) to keep domain logic in one place.
* **Styling** – The component renders plain text in a `<span>` so you can style it with classes or inline CSS just like any other inline element.

---

## Quick Start
```tsx
import { FormattedField } from '@your-workspace/ui'; // path may vary

export default function InvoiceTotal({ totalInCents }: { totalInCents: number }) {
  return (
    <FormattedField
      value={totalInCents / 100}
      format={{ style: 'currency', currency: 'USD' }}
      className="font-bold text-right"
    />
  );
}
```
*Renders something like **$1,234.56***.

---

## Props Reference
| Name        | Type                       | Default | Description                                                                                 |
| ----------- | -------------------------- | ------- | ------------------------------------------------------------------------------------------- |
| `value`     | `string \| number \| Date` | —       | The raw value to display.                                                                   |
| `format`    | `Intl.NumberFormatOptions \| Intl.DateTimeFormatOptions \| (value) => string` | — | How the value should be formatted. If a function is provided it must return a string.       |
| `emptyText` | `string`                   | `''`    | Fallback text when `value` is `null`/`undefined`/empty string.                              |
| `className` | `string`                  | `''`    | Optional CSS class(es) applied to the outer `<span>`.                                       |
| `style`     | `React.CSSProperties`      | —       | Inline styles passed directly to the `<span>`.                                              |
| `locale`    | `string`                   | Browser locale | Overrides the locale used by `Intl` formatters.                                             |

> NOTE  
> The original JSDoc references `FieldView` from `@contember/react-ui-lib`, therefore the surface API aims to be compatible with that component. Double‑check your local typings for the authoritative list of props.

---

## Requirements
* **React ≥ 17** (hooks are used internally).
* **Intl API** – Browsers must support `Intl.NumberFormat` and `Intl.DateTimeFormat` (virtually all evergreen browsers do).  
  If you target very old environments, you may need a polyfill.

---

## Features
* One‑line value formatting (number, date, currency, percent, …).
* Custom formatter callback for niche scenarios.
* Graceful “empty” rendering (`--`, `N/A`, or any string you like).
* Completely presentation‑only – no hidden state to sync.
* Works anywhere a regular React element can be rendered.

---

## Usage Examples

### 1. Showing Dates
```tsx
<FormattedField
  value={user.lastLogin}                // Date object
  format={{ dateStyle: 'medium' }}      // e.g. "Oct 29, 2024"
  emptyText="Never"
/>
```
Displays the user’s last login date or “Never” when missing.

### 2. Percentages
```tsx
<FormattedField
  value={0.0875}                         // 8.75 %
  format={{ style: 'percent', maximumFractionDigits: 1 }} 
/>
```

### 3. Custom Formatter Function
```tsx
<FormattedField
  value={permissions}
  format={(p) => p.join(', ')}           // Arrays, complex data, etc.
/>
```
Pass any function that turns the raw value into a string.

---

## When to Use

* You already have the value and simply need to show it with consistent formatting.  
* You want to avoid repeating formatting logic (`toLocaleString`, `moment()`, etc.) in every component.  
* You need a drop‑in component that integrates nicely with tables, forms (read‑only mode), or dashboards.

### When NOT to Use

* You need an **editable** input – use a proper input component instead.  
* You require advanced rich‑text or markdown rendering (this component outputs plain inline text).  
* Heavy data‑visualisation (charts, gauges) – use specialized libraries.

---

## Best Practices & Gotchas
* Provide an explicit `locale` when your app supports language switching; relying on the browser default can lead to inconsistencies.
* Always set an `emptyText` so untranslated `undefined` or `null` values don’t leak into the UI.
* Wrap the component in domain‑specific helpers (`<Currency />`, `<DateField />`) to keep business logic DRY.

---

## Full API Reference
The most reliable source of truth is the TypeScript declaration file bundled with the package.  
If you have the library installed you can run:
```bash
npx tsc --noEmit --pretty false --declaration --project tsconfig.json
```
and inspect `node_modules/@your-workspace/ui/dist/types/FormattedField.d.ts`.

---

## Further Reading
* React docs – [Format Dates and Numbers Internationally](https://react.dev/learn/formatting-internationalized-numbers-and-dates)  
* MDN – [`Intl.NumberFormat`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat)  
* MDN – [`Intl.DateTimeFormat`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat)

---

*This page is community‑maintained. If you discover inaccuracies please submit a PR — thanks!*