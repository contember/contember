---
title: AudioField
---

<!-- Edited by human: false -->
<!-- Examples count: 5 -->
<!-- Source examples: 2 -->
<!-- Playground examples: 1 -->
<!-- External examples: 2 -->
<!-- Import examples: 3 -->

# AudioField

## Overview
`AudioField` is a specialized upload component for audio files. It validates files, shows a preview player, and stores metadata such as duration or file size.
Map individual metadata attributes to Contember fields so you can query them later in your project.

## Styling Guidelines
* All examples use Tailwind utility classes.
* `AudioField` renders Contember-themed markup internally—no additional theme classes are required.

## Core Concepts
* Uploading and validating audio files using Contember’s uploader.
* Mapping URL and optional metadata to project fields.
* Binding `AudioField` inside an `EntitySubTree` so values persist.
* Restricting accepted formats via the `accept` prop.
* Disabling deletion with `noDestroy` when historical data must remain.

## Quick Start
```tsx
// Inside a Binding + EntitySubTree
<div className="max-w-md space-y-4">
  <AudioField
    label="Podcast file"
    urlField="audio.url"
  />
</div>
```

## Detailed Guide
```tsx
// Upload with metadata mapping and custom file type restrictions
<AudioField
  label="Podcast file"
  baseField="audio"
  urlField="url"
  durationField="duration"
  fileNameField="fileName"
  fileSizeField="fileSize"
  fileTypeField="fileType"
  lastModifiedField="lastModified"
  accept={{ 'audio/*': ['.mp3', '.wav', '.ogg'] }}
/>
```
* `baseField` groups all metadata under the `audio` relation.
* Each `*Field` prop points to a column for that piece of metadata.
* The `accept` prop limits uploads to common audio formats.

## Props Reference
| Name | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| label | React.ReactNode | Yes | – | Visible field label. |
| description | `React.ReactNode` | Yes | – | Helper text shown below the field. |
| errors | `React.ReactNode \| ErrorAccessor.Error[]` | Yes | – | Validation errors coming from Contember. |
| required | boolean | Yes | – | Marks the field as mandatory. |
| baseField | `string \| SugarableHasOneRelation \| SugarableHasOneRelation[]` | No | – | Relation path that groups file and metadata columns. |
| dropzonePlaceholder | React.ReactNode | No | – | Custom JSX rendered inside the dropzone before a file is selected. |
| actions | React.ReactNode | No | – | Custom action buttons (e.g. “Replace”). |
| edit | React.ReactNode | No | – | JSX rendered while editing (e.g. trimming). |
| noDestroy | boolean | No | – | Disables file removal capability. |
| accept | `Record<string, string[]>` | No | – | Maps MIME types to allowed extensions. |
| acceptFile | `(file: FileWithMeta) ⇒ boolean \| Promise<void>` | No | – | Advanced validation callback; throw `RejectFileError` to reject. |
| extractors | `FileDataExtractor[]` | No | – | Custom extractors for metadata. |
| uploader | UploadClient | No | – | Override the default Contember upload client. |
| urlField | `string \| { field: string; hasOneRelationPath?: SugarableHasOneRelation \| SugarableHasOneRelation[] }` | Yes | – | Field that stores the uploaded file URL. |
| fileNameField | `string \| FieldPathConfig` | No | – | Field for the original file name. |
| lastModifiedField | `string \| FieldPathConfig` | No | – | Field for the last modified timestamp. |
| fileSizeField | `string \| FieldPathConfig` | No | – | Field for file size in bytes. |
| fileTypeField | `string \| FieldPathConfig` | No | – | Field for file MIME type. |
| durationField | `string \| FieldPathConfig` | No | – | Field for audio duration in seconds. |

## Examples

### Upload audio inside a form
```tsx
<Binding>
  <EntitySubTree entity="UploadRoot(unique = unique)" setOnCreate="(unique = unique)">
    <AudioField
      baseField="audio"
      urlField="url"
      durationField="duration"
      fileNameField="meta.fileName"
      fileSizeField="meta.fileSize"
      fileTypeField="meta.fileType"
      lastModifiedField="meta.lastModified"
      label="Audio file"
      description="Upload your podcast episode."
    />
  </EntitySubTree>
</Binding>
```
The field stores all metadata under `meta.*` columns, keeping your schema tidy.

### Disallow file removal
```tsx
<AudioField
  label="Archive recording"
  urlField="recording.url"
  noDestroy
/>
```
Set `noDestroy` to prevent accidental data loss in archival contexts.

## Best Practices & Gotchas
* Always set `accept` to constrain uploads to supported formats.
* Map every needed metadata attribute at the beginning; migrating later is harder.
* Use `noDestroy` for immutable records such as legal evidence.
* Perform additional validation in `acceptFile` when filename patterns matter.
* Place `AudioField` inside `EntitySubTree`; outside it, data will not persist.

## Further Reading
* `FileField` – generic file uploads.
* `ImageField` – image-specific uploads with previews.
* `VideoField` – video uploads with player and metadata.

<!-- End of Generated Documentation -->
