---
title: Binding
---

<!-- Edited by human: false -->
<!-- Examples count: 16 -->
<!-- Source examples: 1 -->
<!-- Playground examples: 5 -->
<!-- External examples: 10 -->
<!-- Import examples: 8 -->

# Binding

## Overview
`Binding` is the core data-management wrapper for every Contember React app.  
It connects all nested data-oriented components to a single store and transaction.

Use `Binding` once per logical editing context—usually one per page, modal, or form wizard.

## Styling Guidelines
* All examples use Tailwind CSS.
* `Binding` itself renders no DOM, so it needs **no** theme classes.

## Core Concepts
* `Binding` creates an isolated editing session (unit of work).
* All CRUD components inside a `Binding` share the same transaction.
* Persist mutations with a `PersistButton` or programmatically through hooks.
* Wrap dialogs or modals in an inner `Binding` for independent saving.
* Pair with `NavigationGuardDialog` to warn about unsaved changes.

## Quick Start
```tsx
import { Binding, PersistButton, EntitySubTree } from '~/lib/binding'

export const ProjectForm = () => (
  <Binding>
    <EntitySubTree entity="Project(id = $id)">
      {/* form fields here */}
      <PersistButton className="mt-4 btn btn-primary" />
    </EntitySubTree>
  </Binding>
)
```

## Detailed Guide
```tsx
import { Binding, NavigationGuardDialog, PersistButton } from '~/lib/binding'

export const ArticleEditor = () => (
  <Binding>
    {/* Warn the user about unsaved changes */}
    <NavigationGuardDialog />

    <EntitySubTree entity="Article(id = $id)">
      {/* ...fields... */}
      <div className="flex gap-2 justify-end mt-6">
        <PersistButton />
      </div>
    </EntitySubTree>
  </Binding>
)
```

## Props Reference
| Name | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| children | React.ReactNode | Yes | – | Content wrapped by `Binding`. |

## Sub-Components / Building Blocks
### NavigationGuardDialog
Displays a modal dialog when the user tries to navigate away while there are unsaved changes inside the current `Binding`.

## Examples
### Editing Settings Inside Conditional Permission
```tsx
import { Binding, PersistButton } from '~/lib/binding'

<IsAllowed entity="NotificationSettings" action="update">
  <Binding>
    <h2 className="text-lg mb-4">Notification Settings</h2>
    <EntitySubTree entity="NotificationSettings(id = $companyId)">
      {/* ...fields... */}
      <div className="flex justify-end">
        <PersistButton />
      </div>
    </EntitySubTree>
  </Binding>
</IsAllowed>
```
The outer `IsAllowed` checks permissions; the inner `Binding` encapsulates the editable entity.

### Independent Modal Transaction
```tsx
<Dialog>
  <DialogTrigger asChild>
    <Button variant="secondary" size="sm">Edit Risk Factors</Button>
  </DialogTrigger>

  <DialogContent className="max-w-3xl">
    <Binding>
      <EntitySubTree entity="RiskFactor(id = $id)">
        {/* modal fields */}
        <DialogFooter>
          <PersistButton />
        </DialogFooter>
      </EntitySubTree>
    </Binding>
  </DialogContent>
</Dialog>
```
The modal has its own `Binding`, so saving here does not interfere with the surrounding page.

## Best Practices & Gotchas
* Create **one** `Binding` per transaction. Nest only when you need separate save boundaries.
* Place `NavigationGuardDialog` directly inside each `Binding`.
* Use `key` on `Binding` when switching dimensions (e.g., company) to reset its state.
* Do **not** mix components from different `Binding` trees; state will not propagate.
* Wrap `PersistButton` in the **same** `Binding` you want to save.

## Further Reading
* PersistButton  
* EntitySubTree & EntityListSubTree  
* NavigationGuardDialog  
* Contember Permissions (`IsAllowed`)  
* Dimensions & Environment API

<!-- End of Generated Documentation -->