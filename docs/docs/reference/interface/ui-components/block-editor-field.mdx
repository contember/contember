---
title: BlockEditorField
---

<!-- Edited by human: false -->
<!-- Examples count: 6 -->
<!-- Source examples: 2 -->
<!-- Playground examples: 2 -->
<!-- External examples: 2 -->
<!-- Import examples: 6 -->

## BlockEditorField

### Overview
BlockEditorField is a rich-text editor that lets you create structured content with drag-and-drop blocks.  
It integrates Slate.js, supports entity references, and exposes an extensible plugin system.

The component stores your content in one field, references in another, and discriminates reference types through a third field. It handles collision detection and measurements for smooth block reordering.

### Styling Guidelines
* All examples use Tailwind classes.
* The editor itself needs no special Contember theme classes out of the box.

### Core Concepts
* **Blocks** – Self-contained content chunks like images or quotes.
* **Entity references** – Links to other entities stored in `referencesField`.
* **Discrimination field** – Distinguishes reference types (`referenceDiscriminationField`).
* **Plugins** – Extend the editor with custom elements or marks.
* **Toolbars** – Inline and block toolbars expose triggers for marks, elements, and references.
* **Drag-and-drop** – Reorder blocks visually; order is saved automatically.

### Quick Start
```tsx
import {
	BlockEditorField,
	EditorBlock,
	EditorBlockToolbar,
	EditorReferenceTrigger,
	BlockButton,
} from '~/lib/editor' // or '~/lib-extra/legacy-editor/BlockEditor'
import { ImageIcon } from '@radix-ui/react-icons'

export const ArticleEditor = () => (
	<BlockEditorField
		field="data"
		referencesField="references"
		referenceDiscriminationField="type"
		className="prose w-full"
	>
		<EditorBlockToolbar className="flex gap-2 pb-2 border-b">
			<EditorReferenceTrigger referenceType="image">
				<BlockButton className="flex items-center gap-1">
					<ImageIcon className="h-4 w-4" /> Image
				</BlockButton>
			</EditorReferenceTrigger>
		</EditorBlockToolbar>

		<EditorBlock name="image" label="Image">
			{/* Replace with your ImageField */}
			<div className="border p-4 text-center italic text-gray-500">
				Image goes here…
			</div>
		</EditorBlock>
	</BlockEditorField>
)
```

### Detailed Guide
#### Adding custom plugins
```tsx
<BlockEditorField
	field="data"
	referencesField="references"
	referenceDiscriminationField="type"
	plugins={[
		editor => {
			editor.registerElement({
				type: 'link',
				isInline: true,
				render: LinkElement,
			})
		},
	]}
>
	{/* toolbars & blocks */}
</BlockEditorField>
```
* Register an element or mark inside the `plugins` array.
* Each function receives the Slate editor instance.

#### Separating inline and block toolbars
```tsx
<EditorBlockToolbar className="flex gap-2 border-b pb-2">
	{/* block-level triggers */}
</EditorBlockToolbar>

<EditorInlineToolbar className="mt-2 flex gap-2">
	{/* inline triggers like bold, italic, link… */}
</EditorInlineToolbar>
```
Mix and match triggers for the UX you need.

### Props Reference
| Name | Type | Required | Default | Description |
| --- | --- | --- | --- | --- |
| field | string &#124; object | Yes | — | Field that stores the serialized editor content. |
| referencesField | string &#124; object | Yes | — | Field that stores related entity references. |
| referenceDiscriminationField | string &#124; object | Yes | — | Field that discriminates reference entity types. |
| plugins | EditorPlugin[] | No | `[]` | Array of plugin factory functions. |
| placeholder | string | No | `""` | Placeholder text for an empty editor. |
| children | React.ReactNode | No | — | Toolbar and block definitions rendered inside the editor. |

_Inherited props_: _None_

### Sub-Components / Building Blocks
#### EditorBlock
Defines a block, its label, and internal content.

#### EditorBlockToolbar
Horizontal toolbar for block-level triggers.

#### EditorInlineToolbar
Toolbar that appears for inline formatting.

#### EditorReferenceTrigger
Button that inserts a reference block.

#### EditorElementTrigger
Button that inserts or toggles a custom element.

#### EditorMarkTrigger
Button that toggles a text mark (bold, italic …).

#### EditorGenericTrigger
Generic trigger for arbitrary editor commands.

### Examples
#### Full toolbar with custom plugins
```tsx
<BlockEditorField
	field="data"
	referencesField="references"
	referenceDiscriminationField="type"
	plugins={[
		editor => editor.registerElement({ type: 'link', isInline: true, render: LinkElement }),
	]}
>
	<EditorBlockToolbar className="flex gap-2 border-b pb-2">
		<EditorReferenceTrigger referenceType="image">
			<BlockButton><ImageIcon /> Image</BlockButton>
		</EditorReferenceTrigger>
		<EditorElementTrigger elementType={tableElementType}>
			<BlockButton><TableIcon /> Table</BlockButton>
		</EditorElementTrigger>
	</EditorBlockToolbar>

	<EditorInlineToolbar className="mt-2 flex gap-2">
		<EditorMarkTrigger mark={boldMark}><Toggle>B</Toggle></EditorMarkTrigger>
		<EditorMarkTrigger mark={italicMark}><Toggle>I</Toggle></EditorMarkTrigger>
	</EditorInlineToolbar>

	<EditorBlock name="quote" label="Quote">
		<EditorBlockContent />
	</EditorBlock>

	<EditorBlock name="image" label="Image">
		<ImageField baseField="image" urlField="url" />
	</EditorBlock>
</BlockEditorField>
```
Provides image references, tables, bold/italic marks, and a quote block.

#### Playground – Advanced toolbar (Example 1)
```tsx
<BlockEditorField
	field="data"
	referencesField="references"
	referenceDiscriminationField="type"
	plugins={[
		editor => {
			editor.registerElement({
				type: 'link',
				isInline: true,
				render: LinkElement,
			})
		},
	]}
>
	<EditorBlockToolbar>
		<EditorReferenceTrigger referenceType="quote"><BlockButton><QuoteIcon /> Quote</BlockButton></EditorReferenceTrigger>
		<EditorReferenceTrigger referenceType="image"><BlockButton><ImageIcon /> Image</BlockButton></EditorReferenceTrigger>
		<EditorElementTrigger elementType={tableElementType}><BlockButton><TableIcon /> Table</BlockButton></EditorElementTrigger>
		<EditorElementTrigger elementType={scrollTargetElementType}><BlockButton><LocateIcon /> Scroll target</BlockButton></EditorElementTrigger>
		<EditorElementTrigger elementType={horizontalRuleElementType}><BlockButton><MinusIcon  /> Horizontal rule</BlockButton></EditorElementTrigger>
	</EditorBlockToolbar>

	<EditorInlineToolbar>
		{/* identical inline triggers as detailed guide */}
	</EditorInlineToolbar>

	<EditorBlock name="quote" label="Quote">
		<EditorBlockContent />
	</EditorBlock>

	<EditorBlock name="image" label="Image">
		<ImageField baseField="image" urlField="url" />
	</EditorBlock>
</BlockEditorField>
```
Adds quote references, scroll targets, and horizontal rules to the toolbar.

#### Playground – Complex embeds (Example 2)
```tsx
<BlockEditorField
	field="blocks"
	contentField="data"
	referencesField="references"
	referenceDiscriminationField="type"
	sortableBy="order"
	embedReferenceDiscriminateBy="embed"
	embedContentDiscriminationField="embed.type"
	embedHandlers={[
		new EmbedHandlers.YouTube({
			discriminateBy: 'youtube',
			youTubeIdField: 'embed.youtubeId',
		}),
		new EmbedHandlers.Vimeo({
			discriminateBy: 'vimeo',
			vimeoIdField: 'embed.vimeoId',
		}),
	]}
	plugins={[
		plugins.anchor,
		plugins.paragraph,
		plugins.heading,
		plugins.list,
		plugins.horizontalRule,
		plugins.scrollTarget,
		plugins.table,
		plugins.bold,
		plugins.code,
		plugins.highlight,
		plugins.italic,
		plugins.newline,
		plugins.strikeThrough,
		plugins.underline,
		editor => {
			editor.registerElement({
				type: 'link',
				isInline: true,
				render: LinkElement,
			})
		},
	]}
>
	<EditorBlockToolbar>
		<EditorReferenceTrigger referenceType="quote"><BlockButton><QuoteIcon /> Quote</BlockButton></EditorReferenceTrigger>
		<EditorReferenceTrigger referenceType="image"><BlockButton><ImageIcon /> Image</BlockButton></EditorReferenceTrigger>
		<EditorElementTrigger elementType={tableElementType}><BlockButton><TableIcon /> Table</BlockButton></EditorElementTrigger>
		<EditorElementTrigger elementType={scrollTargetElementType}><BlockButton><LocateIcon /> Scroll target</BlockButton></EditorElementTrigger>
		<EditorElementTrigger elementType={horizontalRuleElementType}><BlockButton><MinusIcon /> Horizontal rule</BlockButton></EditorElementTrigger>
	</EditorBlockToolbar>

	<EditorInlineToolbar>
		{/* inline triggers identical to Example 1 */}
	</EditorInlineToolbar>

	<Block discriminateBy="quote" label="Quote">
		<BlockEditor.ContentOutlet placeholder="Type here..." />
	</Block>
	<Block discriminateBy="embed" label="Embed">
		<Block discriminateBy="spotify" label="Spotify" />
		<Block discriminateBy="youtube" label="YouTube" />
		<Block discriminateBy="vimeo" label="Vimeo" />
	</Block>
	<Block discriminateBy="image" label="Image">
		<ImageField baseField="image" urlField="url" />
	</Block>
</BlockEditorField>
```
Shows nested blocks, embed handlers, and sortable ordering—ideal for media-rich pages.

#### Learning Platform – Rich content with Spotify, YouTube & Vimeo (Example 3)
```tsx
<BlockEditorField
	field={'content.parts'}
	contentField="json"
	referencesField="references"
	referenceDiscriminationField="type"
	sortableBy="order"
	embedReferenceDiscriminateBy="embed"
	embedContentDiscriminationField="embed.type"
	embedHandlers={[
		new EmbedHandlers.Spotify({
			discriminateBy: 'spotify',
			spotifyTypeField: 'embed.spotifyType',
			spotifyIdField: 'embed.spotifyId',
		}),
		new EmbedHandlers.YouTube({
			discriminateBy: 'youtube',
			youTubeIdField: 'embed.youtubeId',
		}),
		new EmbedHandlers.Vimeo({
			discriminateBy: 'vimeo',
			vimeoIdField: 'embed.vimeoId',
		}),
	]}
	plugins={[
		plugins.anchor,
		plugins.paragraph,
		plugins.heading,
		plugins.list,
		plugins.bold,
		plugins.code,
		plugins.highlight,
		plugins.italic,
		plugins.newline,
		plugins.strikeThrough,
		plugins.underline,
		supMarkPlugin,
		editor => {
			editor.registerElement({
				type: 'link',
				isInline: true,
				render: LinkElement,
			})
		},
	]}
>
	<CleanupEmptyBlock />
	<EditorBlockToolbar>
		<EditorReferenceTrigger referenceType="quote"><BlockButton><QuoteIcon /> Quote</BlockButton></EditorReferenceTrigger>
		<EditorReferenceTrigger referenceType="image"><BlockButton><ImageIcon /> Image</BlockButton></EditorReferenceTrigger>
	</EditorBlockToolbar>
	<EditorInlineToolbar>
		{/* inline triggers including superscript */}
	</EditorInlineToolbar>
	<Block discriminateBy="quote" label="Quote">
		<BlockEditor.ContentOutlet placeholder="Type here..." />
	</Block>
	<Block discriminateBy="embed" label="Embed">
		<Block discriminateBy="spotify" label="Spotify" />
		<Block discriminateBy="youtube" label="YouTube" />
		<Block discriminateBy="vimeo" label="Vimeo" />
	</Block>
	<Block discriminateBy="image" label="Image">
		<ImageField baseField={'image'} urlField="url" />
	</Block>
</BlockEditorField>
```
Demonstrates advanced embed handlers plus a superscript mark for educational content.

#### 108 Agency CMS – Enterprise setup (Example 4)
```tsx
<BlockEditorField
	field={'content.parts'}
	contentField="json"
	referencesField="references"
	referenceDiscriminationField="type"
	sortableBy="order"
	embedReferenceDiscriminateBy="embed"
	embedContentDiscriminationField="embed.type"
	embedHandlers={[
		new EmbedHandlers.Spotify({
			discriminateBy: 'spotify',
			spotifyTypeField: 'embed.spotifyType',
			spotifyIdField: 'embed.spotifyId',
		}),
		new EmbedHandlers.YouTube({
			discriminateBy: 'youtube',
			youTubeIdField: 'embed.youtubeId',
		}),
		new EmbedHandlers.Vimeo({
			discriminateBy: 'vimeo',
			vimeoIdField: 'embed.vimeoId',
		}),
	]}
	plugins={[
		plugins.anchor,
		plugins.paragraph,
		plugins.heading,
		plugins.list,
		plugins.bold,
		plugins.code,
		plugins.highlight,
		plugins.italic,
		plugins.newline,
		plugins.strikeThrough,
		plugins.underline,
		supMarkPlugin,
		editor => {
			editor.registerElement({
				type: 'link',
				isInline: true,
				render: LinkElement,
			})
		},
	]}
>
	<CleanupEmptyBlock />
	<EditorBlockToolbar>
		<EditorReferenceTrigger referenceType="quote"><BlockButton><QuoteIcon /> Quote</BlockButton></EditorReferenceTrigger>
		<EditorReferenceTrigger referenceType="image"><BlockButton><ImageIcon /> Image</BlockButton></EditorReferenceTrigger>
	</EditorBlockToolbar>
	<EditorInlineToolbar>
		{/* inline triggers identical to Learning Platform */}
	</EditorInlineToolbar>
	<Block discriminateBy="quote" label="Quote">
		<BlockEditor.ContentOutlet placeholder="Type here..." />
	</Block>
	<Block discriminateBy="embed" label="Embed">
		<Block discriminateBy="spotify" label="Spotify" />
		<Block discriminateBy="youtube" label="YouTube" />
		<Block discriminateBy="vimeo" label="Vimeo" />
	</Block>
	<Block discriminateBy="image" label="Image">
		<ImageField baseField={'image'} urlField="url" />
	</Block>
</BlockEditorField>
```
Highlights a production-grade configuration with cleanup helper and multiple embed types.

### Best Practices & Gotchas
* Always pass `referencesField` and `referenceDiscriminationField`; the editor fails without them.
* Keep `plugins` pure; avoid side effects outside the Slate editor instance.
* Wrap toolbar buttons in Contember triggers; plain buttons will not modify the editor.
* Store only serializable data in `field`; avoid functions or DOM nodes.
* Use Tailwind utilities like `prose` to style the output consistently.
* Re-rendering the parent component resets toolbar selection; memoize large toolbars if needed.

### Further Reading
* EditorBlock
* EditorInlineToolbar
* RichTextField & RichTextView
* Contember Slate Plugin API

<!-- End of Generated Documentation -->