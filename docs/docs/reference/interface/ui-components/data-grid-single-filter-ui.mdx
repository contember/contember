---
title: DataGridSingleFilterUI
---

<!-- Edited by human: false -->
<!-- Examples count: 4 -->
<!-- Source examples: 0 -->
<!-- Playground examples: 0 -->
<!-- External examples: 4 -->
<!-- Import examples: 4 -->

# DataGridSingleFilterUI

## Overview
`DataGridSingleFilterUI` wraps a single filter control and its related UI helpers.
The component provides layout, spacing, and focus handling so you can plug any custom filter trigger, dropdown, or badge inside it.

## Styling Guidelines
* All examples use Tailwind CSS classes.
* No special Contember theme classes are required.

## Core Concepts
* Container designed for **one** logical filter.
* Works with any trigger (button, input, select).
* Supports an **active-filter badge** via `DataGridActiveFilterUI`.
* Pure UI component – it does **not** hold filtering state.

## Quick Start
```tsx
import { DataGridSingleFilterUI } from '~/lib/datagrid'

const StatusFilter = () => (
  <DataGridSingleFilterUI>
    <button className="text-sm px-2 py-1 rounded border">Status</button>
  </DataGridSingleFilterUI>
)
```

## Detailed Guide
```tsx
import {
  DataGridSingleFilterUI,
  DataGridActiveFilterUI,
} from '~/lib/datagrid'
import { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem } from '@radix-ui/react-dropdown-menu'

const SortingFilter = ({ options }) => {
  const sortingState   = useDataViewSortingState()
  const sortingMethods = useDataViewSortingMethods()

  const active = Object.entries(sortingState.directions)[0]     // first active sort
  const activeOption = active
    ? options.find(o => o.field === active[0] && o.direction === active[1])
    : undefined

  return (
    <DataGridSingleFilterUI>
      <DropdownMenu>
        <DropdownMenuTrigger asChild>
          <button className="flex items-center gap-2 px-1 hover:underline">
            <span className="text-xs font-medium">Sort</span>
          </button>
        </DropdownMenuTrigger>

        <DropdownMenuContent className="min-w-[160px] flex flex-col p-1">
          {options.map(option => (
            <DropdownMenuItem key={option.label}>
              <button
                className="w-full text-left px-2 py-1 hover:bg-gray-100"
                onClick={() => sortingMethods.setOrderBy(option.field, option.direction)}
              >
                {option.label}
              </button>
            </DropdownMenuItem>
          ))}
        </DropdownMenuContent>
      </DropdownMenu>

      {activeOption && (
        <DataGridActiveFilterUI onClick={() => sortingMethods.setOrderBy(activeOption.field, 'clear')}>
          {activeOption.label}
        </DataGridActiveFilterUI>
      )}
    </DataGridSingleFilterUI>
  )
}
```

## Sub-Components / Building Blocks
### DataGridActiveFilterUI
Displays the currently active filter value as a badge/button.

### DataGridFilterSelectItemUI
Single option inside a filter select.

### DataGridFilterSelectTriggerUI
Button that opens a filter select dropdown.

### Hooks
* `useDataViewSortingState` – returns current sorting directions.
* `useDataViewSortingMethods` – exposes `setOrderBy`.

## Examples
### Relation Include / Exclude Filter
```tsx
<DataGridSingleFilterUI>
  <DataViewQueryRelationFilterSelect
    label="Categories"
    included={included}
    excluded={excluded}
    toggleInclude={toggleInclude}
    toggleExclude={toggleExclude}
    entityName="Category"
  >
    {children}
  </DataViewQueryRelationFilterSelect>
</DataGridSingleFilterUI>
```
This pattern toggles inclusion/exclusion of related entities through URL parameters.

### Simple Sorting Dropdown
```tsx
<DataGridSingleFilterUI>
  <SortingDropdown options={[
    { field: 'createdAt', direction: 'asc',  label: 'Oldest first' },
    { field: 'createdAt', direction: 'desc', label: 'Newest first' },
  ]}/>
</DataGridSingleFilterUI>
```
Users choose a sort order, while the badge shows the active option.

## Best Practices & Gotchas
* Wrap **exactly one** logical filter per `DataGridSingleFilterUI`.
* Place the active badge **inside** the component; it handles spacing.
* Keep filter triggers small; overflow may break layout.
* The component is UI-only – call your own hooks for state updates.
* Remove the badge when clearing state to avoid stale UI.

## Further Reading
* DataGridActiveFilterUI
* useDataViewSortingState / useDataViewSortingMethods
* DataGridFilterSelectTriggerUI
* Contember Data Grid overview

<!-- End of Generated Documentation -->
