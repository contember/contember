---
title: DataGrid
---

<!-- Edited by human: false -->
<!-- Examples count: 16 -->
<!-- Source examples: 1 -->
<!-- Playground examples: 5 -->
<!-- External examples: 10 -->
<!-- Import examples: 8 -->

# DataGrid

## Overview
`DataGrid` displays entity collections with sorting, filtering, selection, and pagination.
You customize the layout with nested columns, tiles, or rows while still benefiting from built-in state management.

## Styling Guidelines
* All snippets use Tailwind CSS classes.
* Contember default theme classes are already applied inside the library—you only style wrappers and content.

## Core Concepts
* Entities – the source collection you query.
* Filters – narrow data using toolbar filter components.
* Sorting – define initial or user-controlled sort directions.
* Pagination – control page, size, and storage.
* Selection – work with highlighted or multi-selected rows.
* Layouts – switch between table, tiles, or custom row views.
* State storage – persist grid state in memory, URL, or local storage.

## Quick Start
```tsx
import {
	DataGrid,
	DataGridLoader,
	DataGridTable,
	DataGridTextColumn,
	DataGridToolbar,
	DataGridPagination,
} from '~/lib/datagrid'

export const ProjectsGrid = () => (
	<DataGrid entities="Project" initialSorting={{ createdAt: 'asc' }}>
		<DataGridToolbar />

		<DataGridLoader>
			<DataGridTable className="min-w-full divide-y divide-gray-200">
				<DataGridTextColumn header="Title" field="title" />
				<DataGridTextColumn header="State" field="state" />
			</DataGridTable>
		</DataGridLoader>

		<DataGridPagination className="mt-4" />
	</DataGrid>
)
```


## Props Reference
| Name | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| children | React.ReactNode | Yes | - | Nested grid parts such as toolbar, loader, and pagination. |
| entities | string &#124; { … } | Yes | - | Entity name or advanced descriptor. |
| queryField | DataViewUnionFilterFields | Yes | - | Field used by `DataGridQueryFilter`. |
| filterTypes | DataViewFilterHandlerRegistry | Yes | - | Registry mapping filter components to handlers. |
| dataViewKey | string | Yes | - | Unique key for storing grid state. |
| onSelectHighlighted | (entity: EntityAccessor) => void | Yes | - | Called when the user selects the highlighted row. |
| initialFilters | DataViewFilteringArtifacts &#124; (stored) => … | Yes | - | Initial filter set. |
| filteringStateStorage | StateStorageOrName | Yes | - | Storage backend for filters. |
| initialSorting | DataViewSortingDirections | Yes | - | Initial sort directions. |
| sortingStateStorage | StateStorageOrName | Yes | - | Storage backend for sorting. |
| initialItemsPerPage | number | Yes | - | Items per page at mount. |
| currentPageStateStorage | StateStorageOrName | Yes | - | Storage backend for current page. |
| pagingSettingsStorage | StateStorageOrName | Yes | - | Storage backend for page size. |
| initialSelection | DataViewSelectionValues &#124; (stored) => … | Yes | - | Initially selected entities. |
| selectionStateStorage | StateStorageOrName | Yes | - | Storage backend for selection. |
| layouts | DataViewSelectionLayout[] | Yes | - | Available layout definitions. |
| _Inherited HTMLDivElement props_ | * | No | - | All standard div attributes (e.g. `className`). |

## Sub-Components / Building Blocks
### DataGridLoader
Wraps table, tiles, and custom layouts. Handles loading states.

### DataGridToolbar
Hosts filter and action components. Accepts `className` and layout props.

### DataGridTable
Classic tabular view. Combine with column components for each field.

### DataGridTiles
Grid display for card or tile layouts.

### DataViewLayout
Define additional layouts selectable by the user.

### DataGridPagination
Controls page navigation and items per page.

### Column Components
* DataGridTextColumn
* DataGridEnumColumn
* DataGridDateColumn
* DataGridActionColumn
*(and others from the `datagrid` package)*

### Filter Components
* DataGridQueryFilter
* DataGridEnumFilter
* DataGridHasOneFilter
* DataGridHasManyFilter
*(plus any registered filter types)*

## Examples
### Select image inside dialog
```tsx
<DataGrid entities="UploadImage">
	<DataGridToolbar />
	<DataGridLoader>
		<DataGridTiles className="md:grid-cols-[repeat(auto-fill,minmax(10rem,1fr))]">
			<UseEntity render={it => (
				<div
					className="border rounded shadow hover:shadow-md hover:border-yellow-500"
					onClick={() => connect(it)}
				>
					<UploadedImageView />
				</div>
			)} />
		</DataGridTiles>

		<DataGridTable>
			<DataGridActionColumn>
				<UseEntity render={it => (
					<Button onClick={() => connect(it)}>Select</Button>
				)} />
			</DataGridActionColumn>
			<DataGridTextColumn field="url" header="URL" />
		</DataGridTable>
	</DataGridLoader>
	<DataGridPagination />
</DataGrid>
```
The dialog lets users choose an image. Clicking a tile or button runs `connect(entity)` and closes the dialog.

### Marketplace course modules
```tsx
<DataGrid entities={{ entityName: 'CourseModule', filter: { publishOnMarketPlaceAt: { lte: 'now()' } } }}>
	<DataGridToolbar>
		<DataGridQueryFilter />
		<DataGridHasManyFilter field="categories" options="CourseCategory[courseModules.publishOnMarketPlaceAt!=null]" />
	</DataGridToolbar>

	<DataGridLoader>
		<DataViewEmpty>
			<DataGridNoResults />
		</DataViewEmpty>

		<CourseProgressTileWrapper>
			<CourseModuleTile />
		</CourseProgressTileWrapper>
	</DataGridLoader>
</DataGrid>
```
The grid filters marketplace modules and shows custom tiles when data exists.

## Best Practices & Gotchas
* Always wrap columns with `DataGridTable` inside `DataGridLoader`.
* Use one `DataGridToolbar` at the top; keep it sticky for large grids.
* Persist state with unique `dataViewKey` when multiple grids live on one page.
* Use `UseEntity` for fine-grained rendering inside tiles or rows.
* Large lists benefit from higher `initialItemsPerPage`, but pagination still handles performance.
* Avoid hard-coding filter options; use dynamic queries instead.

## Further Reading
* DataGridToolbar
* DataGridLoader
* DataGridTiles
* DataGridPagination
* Filter component documentation

<!-- End of Generated Documentation -->
