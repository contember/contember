---
title: SortableMultiSelectField
---

## Overview
SortableMultiSelectField lets you pick many related entities and sort them with drag-and-drop.  
Use it inside an entity context and tell it which field stores the order with `sortableBy`.

## Core Concepts
- Entity context (`<EntitySubTree />` or `<EntityListSubTree />`) is mandatory.  
- `sortableBy` defines where Contember saves the numeric order.  
- `connectAt` chooses the relation used to link the selected entity.  
- The component inherits every feature of MultiSelectField.  
- Dragging an item updates its sort index immediately.

## Installation
```tsx
// Any file where you build forms
import {
  Binding,
  EntitySubTree,
  Field,
  PersistButton,
  SortableMultiSelectField,
} from '@app/lib/form'
```

## Quick Start
```tsx
import {
  Binding,
  EntitySubTree,
  Field,
  PersistButton,
  SortableMultiSelectField,
} from '@app/lib/form'

export default () => (
  <Binding>
    <EntitySubTree entity="Book(id = 1)">
      <SortableMultiSelectField
        className="w-full"
        field="chapterPages"
        label="Page order"
        sortableBy="pageNumber"
        connectAt="bookChapter"
      >
        <Field field="content" />
      </SortableMultiSelectField>

      <PersistButton className="mt-4" />
    </EntitySubTree>
  </Binding>
)
```

## Detailed Guide
1. Wrap your form with `<Binding>` so Contember tracks changes.  
2. Open an entity scope with `<EntitySubTree entity="Book(id = 1)" />`.  
3. Add `<SortableMultiSelectField>` and pass:  
   - `field="chapterPages"` – relation holding pages.  
   - `sortableBy="pageNumber"` – integer field on the relation.  
   - `connectAt="bookChapter"` – relation through which a page connects.  
4. Place one or more `<Field>` components inside to decide what users see for each item.  
5. Add a `<PersistButton>` to save the order.

While users drag, Contember updates `pageNumber` immediately. Persisting flushes the new order to the API.

## Component API Reference

### Main Component (SortableMultiSelectField)

#### Props
<!-- props -->

## Examples

### Tags sorted on a location
```tsx
<SortableMultiSelectField
  options="Tag"
  label="Tags"
  field="location.tags"
  connectAt="tag"
  sortableBy="order"
>
  <Field field="internalName" />
</SortableMultiSelectField>
```

### Playground: has-many sortable select
```tsx
<SortableMultiSelectField
  field="hasManySorted"
  label="Sorted values"
  connectAt="value"
  sortableBy="order"
>
  <Field field="name" />
</SortableMultiSelectField>
```

## Best Practices & Gotchas
- Always set `sortableBy`; without it the order cannot persist.  
- Keep the list height small so users do not scroll while dragging.  
- Show a drag handle or add `cursor-move` via Tailwind to hint interactivity.  
- Avoid heavy filters in `options` when you only need the entity name.  
- Remember to wrap the form in `<Binding>` and include `<PersistButton>`.

## Further Reading
- MultiSelectField – base selection component.  
- EntitySubTree – creates the entity context.  
- Drag-and-drop in Contember UI.

<!-- End of Generated Documentation -->

> **Note:** Props reference has been automatically enhanced with precise API types from API Extractor.
